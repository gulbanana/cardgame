@page "/game/{GameName}"
@attribute [Authorize]
@inject NavigationManager Navigation
@inject IGameEndpoint Endpoint
@inject IUserSession Session
@code {
    [Parameter] public string GameName { get; set; }
    private IGame game;

    protected override void OnInitialized()
    {
        game = Endpoint.FindGame(GameName);
    }

    private void OnExecute(GameModel model, ClientCommand command)
    {
        command.Seq = model.Seq;
        var error = game.Execute(Session.Username, command);

        if (error != null)
        {
            Console.WriteLine(error);
            StateHasChanged();
        }
    }
}

<Subscribed Endpoint="@game">
    <CascadingValue Value="@context">
        <CascadingValue Value="@(new Executor(c => OnExecute(context, c)))">
            <GameView />
        </CascadingValue>
    </CascadingValue>
</Subscribed>